<div class="card">
    <div class="flex flex-row justify-between items-center mb-4">
        <div class="font-semibold text-xl uppercase">Quản lý chiến dịch SMS</div>
        <p-button label="Thêm mới" styleClass="w-32" (onClick)="onOpenCreate()" />
    </div>
    <form [formGroup]="searchForm" (ngSubmit)="onSearch()">
        <div class="flex flex-row justify-between items-center mb-4">
            <div class="flex flex-row items-center space-x-2 flex-1">
                <div class="flex flex-col justify-end">
                    <p-iconfield>
                        <p-inputicon class="pi pi-search" />
                        <input formControlName="search" pInputText type="text" placeholder="Search" class="w-150" />
                    </p-iconfield>
                </div>
                <p-button type="button" icon="pi pi-filter" label="Tìm kiếm theo" (onClick)="filterPanel.toggle($event)" [outlined]="true" />
            </div>
            <p-button label="Tìm kiếm" type="submit" styleClass="w-32" />
        </div>
        <p-popover #filterPanel [style]="{ width: '320px' }">
            <div class="flex flex-col space-y-4 p-4">
                <div>
                    <label for="createdBy" class="block text-surface-900 dark:text-surface-0 font-medium mb-2">Người tạo</label>
                    <input pInputText formControlName="createdBy" id="createdBy" styleClass="w-full" class="w-full" />
                </div>
            
                <div>
                    <label for="sendTime" class="block text-surface-900 dark:text-surface-0 font-medium mb-2">Thời gian gửi</label>
                    <p-datepicker formControlName="sendTime" id="sendTime" selectionMode="range" [readonlyInput]="true" [showIcon]="true" [showOnFocus]="false" styleClass="w-full" [appendTo]="'body'" />
                </div>
                <div>
                    <label for="status" class="block text-surface-900 dark:text-surface-0 font-medium mb-2">Trạng thái</label>
                    <p-select formControlName="status" id="status" [options]="statusList" optionLabel="name" optionValue="code" placeholder="Tất cả" [showClear]="true" styleClass="w-full" [appendTo]="'body'" />
                </div>
            </div>
        </p-popover>
    </form>
    <div class="mt-4">
        <app-data-table [columns]="columns" [data]="data" [loading]="loading" (onCustomComp)="onCustomEmit($event)" [total]="totalRecords" [pageNumber]="query.pageNumber" [pageSize]="query.pageSize" (onPageChanged)="onPageChanged($event)" />
    </div>
</div>