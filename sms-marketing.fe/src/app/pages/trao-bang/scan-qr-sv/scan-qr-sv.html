<div class="flex flex-col lg:flex-row gap-3 p-3">

    <!-- LEFT SIDEBAR -->
    <div class="w-full lg:w-1/4 bg-white rounded-xl shadow p-3">
        <app-left-sidebar [allowChangeSubPlan]="true" [data]="listSubPlan"
            (onChangeSubPlan)="onChangeSubPlan($event)" />
    </div>

    <!-- MAIN CONTENT -->
    <div class="w-full lg:w-3/4 flex flex-col gap-3">

        <!-- HEADER -->
        <app-header [tenKhoa]="currentSubPlanInfo?.ten || ''" (onNextSubPlan)="onNextSubPlan()" />

        <div class="flex flex-col lg:flex-row gap-3">

            <!-- QR + INPUT -->
            <div class="w-full lg:w-2/5 bg-white rounded-xl shadow p-4">
                <div class="flex gap-2 mb-3">
                    <!-- <p-tag severity="info" class="text-base">
                        <div [ngClass]="['w-full py-2 text-base bor']">QUÉT QR
                        </div>
                    </p-tag> -->
                    <button pButton label="QUÉT QR" class="p-button-sm p-button"></button>
                    <button pButton label="NHẬP MSSV" class="p-button-sm p-button-outlined"
                        (click)="onOpenDialogMssv()"></button>
                </div>

                <div class="flex flex-col justify-center items-center mt-3 border border-dashed w-full h-96">
                    <div>
                        <p class="!mb-0"><ng-icon [name]="'heroCamera'" class="mr-2"></ng-icon>Camera đang mở</p>
                        <p>Đưa mã QR vào khung hình để quét</p>
                    </div>
                </div>

                <!-- Added student -->
                @if (this.pushedSuccessSv.maSoSinhVien) {
                <div class="mt-3 p-3 border border-green-400 min-h-96 bg-green-50 rounded">
                    <p class="font-semibold text-green-700">✔️ ĐÃ THÊM VÀO HÀNG ĐỢI</p>
                    <div class="text-gray-800 mt-1">
                        <p><strong>{{pushedSuccessSv.hoVaTen}}</strong></p>
                        <p>MSSV: {{ pushedSuccessSv.maSoSinhVien }}</p>
                        <p>{{ pushedSuccessSv.tenKhoa }}</p>
                    </div>
                </div>
                }
            </div>

            <!-- STUDENT LIST -->
            <div class="w-full lg:w-3/5 bg-white rounded-xl shadow p-4 min-h-[600px]">
                <app-student-list [students]="students" />
            </div>
        </div>

        <!-- FOOTER SUMMARY -->
        <app-footer [data]="currentSubPlanInfo" />

    </div>
</div>